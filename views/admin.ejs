<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../public/styles.css" rel="stylesheet" type="text/css" />

    <title>Document</title>
  </head>
  <body class="content">
    <h2>Create Problems</h2>

    <form id="add-problem-form">
      <input name="name" required placeholder="problem name" />
      <textarea
        name="statement"
        required
        placeholder="problem statement"
        name="input"
      ></textarea>
      <input name="t1_in" required placeholder="t1_in" />
      <input name="t1_out" required placeholder="t1_out" />

      <input type="submit" value="submit" />
    </form>

    <h2>Edit Problem</h2>
    <p>need to do (search capability)</p>

    <h2>Delete Problem</h2>
    <p>need to do (search capability)</p>

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyA-Wu88uS3A6NMzCrF5l3DloHHgaNi-aLA",
        authDomain: "judge-9f4ba.firebaseapp.com",
        projectId: "judge-9f4ba",
        storageBucket: "judge-9f4ba.appspot.com",
        messagingSenderId: "735452787743",
        appId: "1:735452787743:web:a22b6f38a3ac4787e3512a",
      }
      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig)
      }

      const auth = firebase.auth()
      const db = firebase.firestore()
      db.settings({ timestampsInSnapshots: true })

      const form = document.querySelector("#add-problem-form")
      form.addEventListener("submit", (e) => {
        e.preventDefault()
        db.collection("problems").add({
          name: form.name.value,
          statement: form.statement.value,
          t1_in: form.t1_in.value,
          t1_out: form.t1_out.value,
        })
        form.reset()
      })
    </script>
  </body>
</html>
